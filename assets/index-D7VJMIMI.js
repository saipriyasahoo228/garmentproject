import{r as s,i as Qe,k as me,o as ge,l as Ct,m as Se,b as F,n as U,j as l,p as Re,q as Tt,t as je,v as Oe,w as Ze,x as Q,u as M,c as k,d as kt,y as Ce,z as Fe,D as He,E as Nt,F as Mt,G as _t,H as St,I as Ft,P as Dt,J as Bt,R as H,C as ze,B as We}from"./index-Ctj1838j.js";import{E as $t,a as Lt}from"./jspdf.plugin.autotable-iaPzz0pV.js";import{a as At}from"./auth-DxPXTuxr.js";import{R as Pt,C as It}from"./Row-BqiF3d7O.js";import{s as se,C as Ht,F as de,t as zt,a as Te}from"./CloseButton-c0vR26fV.js";function Wt(e){const t=s.useRef(e);return t.current=e,t}function De(e){const t=Wt(e);s.useEffect(()=>()=>t.current(),[])}const ke=2**31-1;function et(e,t,n){const r=n-Date.now();e.current=r<=ke?setTimeout(t,r):setTimeout(()=>et(e,t,n),ke)}function Ut(){const e=Qe(),t=s.useRef();return De(()=>clearTimeout(t.current)),s.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(o,a=0){e()&&(n(),a<=ke?t.current=setTimeout(o,a):et(t,o,Date.now()+a))}return{set:r,clear:n,handleRef:t}},[])}function Vt(e,t){let n=0;return s.Children.map(e,r=>s.isValidElement(r)?t(r,n++):r)}var ue;function Ue(e){if((!ue&&ue!==0||e)&&me){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ue=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ue}function Ee(e){e===void 0&&(e=ge());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Kt(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Ve=Ct("modal-open");class Be{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Kt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[r]:o.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(se(o,r)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(Ve,""),se(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Ve),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const xe=(e,t)=>me?e==null?(t||ge()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Ne(e,t){const n=Se(),[r,o]=s.useState(()=>xe(e,n==null?void 0:n.document));if(!r){const a=xe(e);a&&o(a)}return s.useEffect(()=>{},[t,r]),s.useEffect(()=>{const a=xe(e);a!==r&&o(a)},[e,r]),r}function Gt({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:o}){const a=s.useRef(null),u=s.useRef(t),m=F(n);s.useEffect(()=>{t?u.current=!0:m(a.current)},[t,m]);const c=U(a,e.ref),g=s.cloneElement(e,{ref:c});return t?g:o||!u.current&&r?null:g}function tt(e){return e.code==="Escape"||e.keyCode===27}function Yt(){const e=s.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const Xt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function qt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Jt(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:o,onExiting:a,onExited:u,addEndListener:m,children:c}=e,g=qt(e,Xt);const{major:i}=Yt(),d=i>=19?c.props.ref:c.ref,f=s.useRef(null),p=U(f,typeof c=="function"?null:d),h=j=>R=>{j&&f.current&&j(f.current,R)},w=s.useCallback(h(t),[t]),y=s.useCallback(h(n),[n]),x=s.useCallback(h(r),[r]),v=s.useCallback(h(o),[o]),C=s.useCallback(h(a),[a]),T=s.useCallback(h(u),[u]),_=s.useCallback(h(m),[m]);return Object.assign({},g,{nodeRef:f},t&&{onEnter:w},n&&{onEntering:y},r&&{onEntered:x},o&&{onExit:v},a&&{onExiting:C},u&&{onExited:T},m&&{addEndListener:_},{children:typeof c=="function"?(j,R)=>c(j,Object.assign({},R,{ref:p})):s.cloneElement(c,{ref:p})})}const Qt=["component"];function Zt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const en=s.forwardRef((e,t)=>{let{component:n}=e,r=Zt(e,Qt);const o=Jt(r);return l.jsx(n,Object.assign({ref:t},o))});function tn({in:e,onTransition:t}){const n=s.useRef(null),r=s.useRef(!0),o=F(t);return Re(()=>{if(!n.current)return;let a=!1;return o({in:e,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[e,o]),Re(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function nn({children:e,in:t,onExited:n,onEntered:r,transition:o}){const[a,u]=s.useState(!t);t&&a&&u(!1);const m=tn({in:!!t,onTransition:g=>{const i=()=>{g.isStale()||(g.in?r==null||r(g.element,g.initial):(u(!0),n==null||n(g.element)))};Promise.resolve(o(g)).then(i,d=>{throw g.in||u(!0),d})}}),c=U(m,e.ref);return a&&!t?null:s.cloneElement(e,{ref:c})}function Me(e,t,n){return e?l.jsx(en,Object.assign({},n,{component:e})):t?l.jsx(nn,Object.assign({},n,{transition:t})):l.jsx(Gt,Object.assign({},n))}const rn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function on(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let we;function sn(e){return we||(we=new Be({ownerDocument:e==null?void 0:e.document})),we}function an(e){const t=Se(),n=e||sn(t),r=s.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:s.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:s.useCallback(o=>{r.current.backdrop=o},[])})}const nt=s.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:a,children:u,backdrop:m=!0,keyboard:c=!0,onBackdropClick:g,onEscapeKeyDown:i,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:h,autoFocus:w=!0,enforceFocus:y=!0,restoreFocus:x=!0,restoreFocusOptions:v,renderDialog:C,renderBackdrop:T=b=>l.jsx("div",Object.assign({},b)),manager:_,container:j,onShow:R,onHide:$=()=>{},onExit:z,onExited:D,onExiting:L,onEnter:V,onEntering:A,onEntered:S}=e,N=on(e,rn);const P=Se(),K=Ne(j),O=an(_),ye=Qe(),ae=Tt(n),[W,G]=s.useState(!n),B=s.useRef(null);s.useImperativeHandle(t,()=>O,[O]),me&&!ae&&n&&(B.current=Ee(P==null?void 0:P.document)),n&&W&&G(!1);const I=F(()=>{if(O.add(),Y.current=je(document,"keydown",ve),te.current=je(document,"focus",()=>setTimeout(pe),!0),R&&R(),w){var b,ce;const re=Ee((b=(ce=O.dialog)==null?void 0:ce.ownerDocument)!=null?b:P==null?void 0:P.document);O.dialog&&re&&!Oe(O.dialog,re)&&(B.current=re,O.dialog.focus())}}),ee=F(()=>{if(O.remove(),Y.current==null||Y.current(),te.current==null||te.current(),x){var b;(b=B.current)==null||b.focus==null||b.focus(v),B.current=null}});s.useEffect(()=>{!n||!K||I()},[n,K,I]),s.useEffect(()=>{W&&ee()},[W,ee]),De(()=>{ee()});const pe=F(()=>{if(!y||!ye()||!O.isTopModal())return;const b=Ee(P==null?void 0:P.document);O.dialog&&b&&!Oe(O.dialog,b)&&O.dialog.focus()}),le=F(b=>{b.target===b.currentTarget&&(g==null||g(b),m===!0&&$())}),ve=F(b=>{c&&tt(b)&&O.isTopModal()&&(i==null||i(b),b.defaultPrevented||$())}),te=s.useRef(),Y=s.useRef(),ie=(...b)=>{G(!0),D==null||D(...b)};if(!K)return null;const X=Object.assign({role:r,ref:O.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},N,{style:a,className:o,tabIndex:-1});let ne=C?C(X):l.jsx("div",Object.assign({},X,{children:s.cloneElement(u,{role:"document"})}));ne=Me(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:z,onExiting:L,onExited:ie,onEnter:V,onEntering:A,onEntered:S,children:ne});let q=null;return m&&(q=T({ref:O.setBackdropRef,onClick:le}),q=Me(p,h,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:q})),l.jsx(l.Fragment,{children:Ze.createPortal(l.jsxs(l.Fragment,{children:[q,ne]}),K)})});nt.displayName="Modal";const ln=Object.assign(nt,{Manager:Be});function _e(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function cn(e,t){e.classList?e.classList.add(t):_e(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Ke(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function un(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Ke(e.className,t):e.setAttribute("class",Ke(e.className&&e.className.baseVal||"",t))}const Z={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class dn extends Be{adjustAndStore(t,n,r){const o=n.style[t];n.dataset[t]=o,se(n,{[t]:`${parseFloat(se(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],se(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(cn(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Q(n,Z.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth)),Q(n,Z.STICKY_CONTENT).forEach(a=>this.adjustAndStore(o,a,-t.scrollBarWidth)),Q(n,Z.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(o,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();un(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Q(n,Z.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Q(n,Z.STICKY_CONTENT).forEach(a=>this.restore(o,a)),Q(n,Z.NAVBAR_TOGGLER).forEach(a=>this.restore(o,a))}}let be;function fn(e){return be||(be=new dn(e)),be}const rt=s.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=M(t,"modal-body"),l.jsx(n,{ref:o,className:k(e,t),...r})));rt.displayName="ModalBody";const ot=s.createContext({onHide(){}}),$e=s.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:o,fullscreen:a,children:u,scrollable:m,...c},g)=>{e=M(e,"modal");const i=`${e}-dialog`,d=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return l.jsx("div",{...c,ref:g,className:k(i,t,o&&`${e}-${o}`,r&&`${i}-centered`,m&&`${i}-scrollable`,a&&d),children:l.jsx("div",{className:k(`${e}-content`,n),children:u})})});$e.displayName="ModalDialog";const st=s.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=M(t,"modal-footer"),l.jsx(n,{ref:o,className:k(e,t),...r})));st.displayName="ModalFooter";const hn=s.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:o,...a},u)=>{const m=s.useContext(ot),c=F(()=>{m==null||m.onHide(),r==null||r()});return l.jsxs("div",{ref:u,...a,children:[o,n&&l.jsx(Ht,{"aria-label":e,variant:t,onClick:c})]})}),at=s.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...o},a)=>(e=M(e,"modal-header"),l.jsx(hn,{ref:a,...o,className:k(t,e),closeLabel:n,closeButton:r})));at.displayName="ModalHeader";const mn=kt("h4"),lt=s.forwardRef(({className:e,bsPrefix:t,as:n=mn,...r},o)=>(t=M(t,"modal-title"),l.jsx(n,{ref:o,className:k(e,t),...r})));lt.displayName="ModalTitle";function gn(e){return l.jsx(de,{...e,timeout:null})}function yn(e){return l.jsx(de,{...e,timeout:null})}const it=s.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:o,children:a,dialogAs:u=$e,"data-bs-theme":m,"aria-labelledby":c,"aria-describedby":g,"aria-label":i,show:d=!1,animation:f=!0,backdrop:p=!0,keyboard:h=!0,onEscapeKeyDown:w,onShow:y,onHide:x,container:v,autoFocus:C=!0,enforceFocus:T=!0,restoreFocus:_=!0,restoreFocusOptions:j,onEntered:R,onExit:$,onExiting:z,onEnter:D,onEntering:L,onExited:V,backdropClassName:A,manager:S,...N},P)=>{const[K,O]=s.useState({}),[ye,ae]=s.useState(!1),W=s.useRef(!1),G=s.useRef(!1),B=s.useRef(null),[I,ee]=Ce(),pe=U(P,ee),le=F(x),ve=Fe();e=M(e,"modal");const te=s.useMemo(()=>({onHide:le}),[le]);function Y(){return S||fn({isRTL:ve})}function ie(E){if(!me)return;const J=Y().getScrollbarWidth()>0,Ie=E.scrollHeight>ge(E).documentElement.clientHeight;O({paddingRight:J&&!Ie?Ue():void 0,paddingLeft:!J&&Ie?Ue():void 0})}const X=F(()=>{I&&ie(I.dialog)});De(()=>{He(window,"resize",X),B.current==null||B.current()});const ne=()=>{W.current=!0},q=E=>{W.current&&I&&E.target===I.dialog&&(G.current=!0),W.current=!1},b=()=>{ae(!0),B.current=zt(I.dialog,()=>{ae(!1)})},ce=E=>{E.target===E.currentTarget&&b()},re=E=>{if(p==="static"){ce(E);return}if(G.current||E.target!==E.currentTarget){G.current=!1;return}x==null||x()},Et=E=>{h?w==null||w(E):(E.preventDefault(),p==="static"&&b())},xt=(E,J)=>{E&&ie(E),D==null||D(E,J)},wt=E=>{B.current==null||B.current(),$==null||$(E)},bt=(E,J)=>{L==null||L(E,J),Nt(window,"resize",X)},Rt=E=>{E&&(E.style.display=""),V==null||V(E),He(window,"resize",X)},jt=s.useCallback(E=>l.jsx("div",{...E,className:k(`${e}-backdrop`,A,!f&&"show")}),[f,A,e]),Pe={...n,...K};Pe.display="block";const Ot=E=>l.jsx("div",{role:"dialog",...E,style:Pe,className:k(t,e,ye&&`${e}-static`,!f&&"show"),onClick:p?re:void 0,onMouseUp:q,"data-bs-theme":m,"aria-label":i,"aria-labelledby":c,"aria-describedby":g,children:l.jsx(u,{...N,onMouseDown:ne,className:r,contentClassName:o,children:a})});return l.jsx(ot.Provider,{value:te,children:l.jsx(ln,{show:d,ref:pe,backdrop:p,container:v,keyboard:!0,autoFocus:C,enforceFocus:T,restoreFocus:_,restoreFocusOptions:j,onEscapeKeyDown:Et,onShow:y,onHide:x,onEnter:xt,onEntering:bt,onEntered:R,onExit:wt,onExiting:z,onExited:Rt,manager:Y(),transition:f?gn:void 0,backdropTransition:f?yn:void 0,renderBackdrop:jt,renderDialog:Ot})})});it.displayName="Modal";const oe=Object.assign(it,{Body:rt,Header:at,Title:lt,Footer:st,Dialog:$e,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),pn=()=>{};function vn(e,t,{disabled:n,clickTrigger:r}={}){const o=t||pn;Mt(e,o,{disabled:n,clickTrigger:r});const a=F(u=>{tt(u)&&o(u)});s.useEffect(()=>{if(n||e==null)return;const u=ge(_t(e));let m=(u.defaultView||window).event;const c=je(u,"keyup",g=>{if(g===m){m=void 0;return}a(g)});return()=>{c()}},[e,n,a])}const ct=s.forwardRef((e,t)=>{const{flip:n,offset:r,placement:o,containerPadding:a,popperConfig:u={},transition:m,runTransition:c}=e,[g,i]=Ce(),[d,f]=Ce(),p=U(i,t),h=Ne(e.container),w=Ne(e.target),[y,x]=s.useState(!e.show),v=St(w,g,Ft({placement:o,enableEvents:!!e.show,containerPadding:a||5,flip:n,offset:r,arrowElement:d,popperConfig:u}));e.show&&y&&x(!1);const C=(...L)=>{x(!0),e.onExited&&e.onExited(...L)},T=e.show||!y;if(vn(g,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!T)return null;const{onExit:_,onExiting:j,onEnter:R,onEntering:$,onEntered:z}=e;let D=e.children(Object.assign({},v.attributes.popper,{style:v.styles.popper,ref:p}),{popper:v,placement:o,show:!!e.show,arrowProps:Object.assign({},v.attributes.arrow,{style:v.styles.arrow,ref:f})});return D=Me(m,c,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:D,onExit:_,onExiting:j,onExited:C,onEnter:R,onEntering:$,onEntered:z}),h?Ze.createPortal(D,h):null});ct.displayName="Overlay";const ut=s.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=M(t,"popover-header"),l.jsx(n,{ref:o,className:k(e,t),...r})));ut.displayName="PopoverHeader";const Le=s.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=M(t,"popover-body"),l.jsx(n,{ref:o,className:k(e,t),...r})));Le.displayName="PopoverBody";function dt(e,t){let n=e;return e==="left"?n=t?"end":"start":e==="right"&&(n=t?"start":"end"),n}function ft(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const En=s.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:r,children:o,body:a,arrowProps:u,hasDoneInitialMeasure:m,popper:c,show:g,...i},d)=>{const f=M(e,"popover"),p=Fe(),[h]=(t==null?void 0:t.split("-"))||[],w=dt(h,p);let y=r;return g&&!m&&(y={...r,...ft(c==null?void 0:c.strategy)}),l.jsxs("div",{ref:d,role:"tooltip",style:y,"x-placement":h,className:k(n,f,h&&`bs-popover-${w}`),...i,children:[l.jsx("div",{className:"popover-arrow",...u}),a?l.jsx(Le,{children:o}):o]})}),xn=Object.assign(En,{Header:ut,Body:Le,POPPER_OFFSET:[0,8]}),ht=s.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:r,children:o,arrowProps:a,hasDoneInitialMeasure:u,popper:m,show:c,...g},i)=>{e=M(e,"tooltip");const d=Fe(),[f]=(t==null?void 0:t.split("-"))||[],p=dt(f,d);let h=r;return c&&!u&&(h={...r,...ft(m==null?void 0:m.strategy)}),l.jsxs("div",{ref:i,style:h,role:"tooltip","x-placement":f,className:k(n,e,`bs-tooltip-${p}`),...g,children:[l.jsx("div",{className:"tooltip-arrow",...a}),l.jsx("div",{className:`${e}-inner`,children:o})]})});ht.displayName="Tooltip";const mt=Object.assign(ht,{TOOLTIP_OFFSET:[0,6]});function wn(e){const t=s.useRef(null),n=M(void 0,"popover"),r=M(void 0,"tooltip"),o=s.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(_e(t.current,n))return xn.POPPER_OFFSET;if(_e(t.current,r))return mt.TOOLTIP_OFFSET}return[0,0]}}}),[e,n,r]);return[t,[o]]}function bn(e,t){const{ref:n}=e,{ref:r}=t;e.ref=n.__wrapped||(n.__wrapped=o=>n(Te(o))),t.ref=r.__wrapped||(r.__wrapped=o=>r(Te(o)))}const gt=s.forwardRef(({children:e,transition:t=de,popperConfig:n={},rootClose:r=!1,placement:o="top",show:a=!1,...u},m)=>{const c=s.useRef({}),[g,i]=s.useState(null),[d,f]=wn(u.offset),p=U(m,d),h=t===!0?de:t||void 0,w=F(y=>{i(y),n==null||n.onFirstUpdate==null||n.onFirstUpdate(y)});return Re(()=>{g&&u.target&&(c.current.scheduleUpdate==null||c.current.scheduleUpdate())},[g,u.target]),s.useEffect(()=>{a||i(null)},[a]),l.jsx(ct,{...u,ref:p,popperConfig:{...n,modifiers:f.concat(n.modifiers||[]),onFirstUpdate:w},transition:h,rootClose:r,placement:o,show:a,children:(y,{arrowProps:x,popper:v,show:C})=>{var T;bn(y,x);const _=v==null?void 0:v.placement,j=Object.assign(c.current,{state:v==null?void 0:v.state,scheduleUpdate:v==null?void 0:v.update,placement:_,outOfBoundaries:(v==null||(T=v.state)==null||(T=T.modifiersData.hide)==null?void 0:T.isReferenceHidden)||!1,strategy:n.strategy}),R=!!g;return typeof e=="function"?e({...y,placement:_,show:C,...!t&&C&&{className:"show"},popper:j,arrowProps:x,hasDoneInitialMeasure:R}):s.cloneElement(e,{...y,placement:_,arrowProps:x,popper:j,hasDoneInitialMeasure:R,className:k(e.props.className,!t&&C&&"show"),style:{...e.props.style,...y.style}})}})});gt.displayName="Overlay";function Rn(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function Ge(e,t,n){const[r]=t,o=r.currentTarget,a=r.relatedTarget||r.nativeEvent[n];(!a||a!==o)&&!Oe(o,a)&&e(...t)}Dt.oneOf(["click","hover","focus"]);const jn=({trigger:e=["hover","focus"],overlay:t,children:n,popperConfig:r={},show:o,defaultShow:a=!1,onToggle:u,delay:m,placement:c,flip:g=c&&c.indexOf("auto")!==-1,...i})=>{const d=s.useRef(null),f=U(d,n.ref),p=Ut(),h=s.useRef(""),[w,y]=Bt(o,a,u),x=Rn(m),{onFocus:v,onBlur:C,onClick:T}=typeof n!="function"?s.Children.only(n).props:{},_=N=>{f(Te(N))},j=s.useCallback(()=>{if(p.clear(),h.current="show",!x.show){y(!0);return}p.set(()=>{h.current==="show"&&y(!0)},x.show)},[x.show,y,p]),R=s.useCallback(()=>{if(p.clear(),h.current="hide",!x.hide){y(!1);return}p.set(()=>{h.current==="hide"&&y(!1)},x.hide)},[x.hide,y,p]),$=s.useCallback((...N)=>{j(),v==null||v(...N)},[j,v]),z=s.useCallback((...N)=>{R(),C==null||C(...N)},[R,C]),D=s.useCallback((...N)=>{y(!w),T==null||T(...N)},[T,y,w]),L=s.useCallback((...N)=>{Ge(j,N,"fromElement")},[j]),V=s.useCallback((...N)=>{Ge(R,N,"toElement")},[R]),A=e==null?[]:[].concat(e),S={ref:_};return A.indexOf("click")!==-1&&(S.onClick=D),A.indexOf("focus")!==-1&&(S.onFocus=$,S.onBlur=z),A.indexOf("hover")!==-1&&(S.onMouseOver=L,S.onMouseOut=V),l.jsxs(l.Fragment,{children:[typeof n=="function"?n(S):s.cloneElement(n,S),l.jsx(gt,{...i,show:w,onHide:R,flip:g,placement:c,popperConfig:r,target:d.current,children:t})]})},Ye=1e3;function On(e,t,n){const r=(e-t)/(n-t)*100;return Math.round(r*Ye)/Ye}function Xe({min:e,now:t,max:n,label:r,visuallyHidden:o,striped:a,animated:u,className:m,style:c,variant:g,bsPrefix:i,...d},f){return l.jsx("div",{ref:f,...d,role:"progressbar",className:k(m,`${i}-bar`,{[`bg-${g}`]:g,[`${i}-bar-animated`]:u,[`${i}-bar-striped`]:u||a}),style:{width:`${On(t,e,n)}%`,...c},"aria-valuenow":t,"aria-valuemin":e,"aria-valuemax":n,children:o?l.jsx("span",{className:"visually-hidden",children:r}):r})}const yt=s.forwardRef(({isChild:e=!1,...t},n)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...t};if(r.bsPrefix=M(r.bsPrefix,"progress"),e)return Xe(r,n);const{min:o,now:a,max:u,label:m,visuallyHidden:c,striped:g,animated:i,bsPrefix:d,variant:f,className:p,children:h,...w}=r;return l.jsx("div",{ref:n,...w,className:k(p,d),children:h?Vt(h,y=>s.cloneElement(y,{isChild:!0})):Xe({min:o,now:a,max:u,label:m,visuallyHidden:c,striped:g,animated:i,bsPrefix:d,variant:f},n)})});yt.displayName="ProgressBar";const Cn=s.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:o,hover:a,size:u,variant:m,responsive:c,...g},i)=>{const d=M(e,"table"),f=k(t,d,m&&`${d}-${m}`,u&&`${d}-${u}`,n&&`${d}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${d}-bordered`,o&&`${d}-borderless`,a&&`${d}-hover`),p=l.jsx("table",{...g,className:f,ref:i});if(c){let h=`${d}-responsive`;return typeof c=="string"&&(h=`${h}-${c}`),l.jsx("div",{className:h,children:p})}return p});var pt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qe=H.createContext&&H.createContext(pt),Tn=["attr","size","title"];function kn(e,t){if(e==null)return{};var n=Nn(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nn(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(n),!0).forEach(function(r){Mn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mn(e,t,n){return t=_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e){var t=Sn(e,"string");return typeof t=="symbol"?t:t+""}function Sn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vt(e){return e&&e.map((t,n)=>H.createElement(t.tag,he({key:n},t.attr),vt(t.child)))}function Ae(e){return t=>H.createElement(Fn,fe({attr:he({},e.attr)},t),vt(e.child))}function Fn(e){var t=n=>{var{attr:r,size:o,title:a}=e,u=kn(e,Tn),m=o||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),H.createElement("svg",fe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:c,style:he(he({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),a&&H.createElement("title",null,a),e.children)};return qe!==void 0?H.createElement(qe.Consumer,null,n=>t(n)):t(pt)}function Dn(e){return Ae({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Bn(e){return Ae({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function $n(e){return Ae({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}const Ln=[{key:"daily",title:"Daily Sales Report",url:"/api/retailsale/dailysales/"},{key:"monthly",title:"Monthly Sales Report",url:"/api/retailsale/monthlysales/"},{key:"yearly",title:"Yearly Sales Report",url:"/api/retailsale/yearlysales/"}],Wn=()=>{const[e,t]=s.useState([]),[n,r]=s.useState(!1),[o,a]=s.useState(null),u={daily:500,monthly:1e3,yearly:700};s.useEffect(()=>{(async()=>{try{const d=await Promise.all(Ln.map(async f=>{const p=await At.get(f.url);if(f.key==="daily"){const{title:h,current_date:w,current_day_sales:y,all_sales:x}=p.data,v=y&&y[0]?y[0]:{total_amount:"0",total_units:0};return{key:f.key,title:h||f.title,date:w||"N/A",total_amount:parseFloat(v.total_amount),total_units:v.total_units,all_sales:x||[]}}else if(f.key==="monthly"){const{title:h,current_month:w,current_month_sales:y,all_sales:x}=p.data,v=y&&y[0]?y[0]:{total_amount:"0",total_units:0};return{key:f.key,title:h||f.title,month:w||"N/A",total_amount:parseFloat(v.total_amount),total_units:v.total_units,all_sales:x||[]}}else if(f.key==="yearly"){const{title:h,current_year:w,current_year_sales:y,all_sales:x}=p.data,v=y&&y[0]?y[0]:{total_amount:"0",total_units:0};return{key:f.key,title:h||f.title,year:w||"N/A",total_amount:parseFloat(v.total_amount),total_units:v.total_units,all_sales:x||[]}}return{}}));t(d)}catch(d){console.error("Error fetching sales data:",d)}})()},[]);const m=i=>{a(i),r(!0)},c=()=>{r(!1)},g=()=>{const i=new $t;i.text(`${o.title}`,14,10),Lt(i,{startY:20,head:[[o.key==="daily"?"Date":o.key==="monthly"?"Month":"Year","Sale Type","Total Amount","Total Units"]],body:o.all_sales.map(d=>[o.key==="daily"?d.date:o.key==="monthly"?d.month:d.year,d.sale_type,`₹${parseFloat(d.total_amount).toLocaleString("en-IN")}`,d.total_units])}),i.save(`${o.title}.pdf`)};return l.jsxs(H.Fragment,{children:[l.jsx(Pt,{children:e.map((i,d)=>{const f=Math.min(i.total_amount/u[i.key]*100,100),p=f<50?"danger":f<75?"warning":f<100?"primary":"success",h=i.key==="daily"?"#1976D2":i.key==="monthly"?"#388E3C":"#FBC02D",w=i.key==="daily"?l.jsx(Bn,{size:24,color:h}):i.key==="monthly"?l.jsx(Dn,{size:24,color:h}):l.jsx($n,{size:24,color:h}),y=i.key==="daily"?"linear-gradient(to right, #E3F2FD, #BBDEFB)":i.key==="monthly"?"linear-gradient(to right, #E8F5E9, #C8E6C9)":"linear-gradient(to right, #FFF9C4, #FFF59D)";return l.jsx(It,{xl:6,xxl:4,children:l.jsx(ze,{style:{background:y,border:"none",borderRadius:"10px",padding:"10px"},children:l.jsxs(ze.Body,{children:[l.jsxs("h5",{children:[w," ",i.title]}),l.jsx("p",{children:i.key==="daily"?`Date: ${i.date}`:i.key==="monthly"?`Month: ${i.month}`:`Year: ${i.year}`}),l.jsxs("p",{children:["Total Amount: ",l.jsxs("strong",{children:["₹",i.total_amount.toLocaleString("en-IN")]})]}),l.jsxs("p",{children:["Total Units: ",l.jsx("strong",{children:i.total_units})]}),l.jsx(jn,{placement:"top",overlay:l.jsx(mt,{children:"Click to view details"}),children:l.jsx(yt,{now:f,label:`${f.toFixed(1)}%`,variant:p,style:{cursor:"pointer"},onClick:()=>m(i)})})]})})},d)})}),o&&l.jsxs(oe,{show:n,onHide:c,size:"lg",children:[l.jsx(oe.Header,{closeButton:!0,children:l.jsx(oe.Title,{children:o.title})}),l.jsx(oe.Body,{children:l.jsxs(Cn,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:o.key==="daily"?"Date":o.key==="monthly"?"Month":"Year"}),l.jsx("th",{children:"Sale Type"}),l.jsx("th",{children:"Total Amount"}),l.jsx("th",{children:"Total Units"})]})}),l.jsx("tbody",{children:o.all_sales.map((i,d)=>l.jsxs("tr",{children:[l.jsx("td",{children:o.key==="daily"?i.date:o.key==="monthly"?i.month:i.year}),l.jsx("td",{children:i.sale_type}),l.jsxs("td",{children:["₹",parseFloat(i.total_amount).toLocaleString("en-IN")]}),l.jsx("td",{children:i.total_units})]},d))})]})}),l.jsxs(oe.Footer,{children:[l.jsx(We,{variant:"primary",onClick:g,children:"Download PDF"}),l.jsx(We,{variant:"secondary",onClick:c,children:"Close"})]})]})]})};export{Wn as default};
